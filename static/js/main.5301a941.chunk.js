(this.webpackJsonpsms_webapp=this.webpackJsonpsms_webapp||[]).push([[0],{135:function(t,e,n){"use strict";n.r(e);var a=n(2),o=n(0),s=n.n(o),r=n(11),i=n.n(r),c=n(27),l=n(28),u=n(34),j=n(32),b=n(46),d=n(37),h=n(92),g=n(4),x=n(173),O=n(185),f=n(181),p=n(180),m=n(182),v=n(183),C=n(184),S=n(175),y=n(177),w=n(43),k=n(179),B=n(178),_=n(88),T=n.n(_),D=Object(x.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1,textAlign:"center"}}}));function A(t){var e=D();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(S.a,{position:"static",children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)(B.a,{onClick:t.onClick("left",!0),edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(T.a,{})}),Object(a.jsx)(w.a,{variant:"h4",className:e.title,children:"Smart Vision"}),Object(a.jsx)(k.a,{color:"inherit",children:"Logout"})]})})})}var z=n(89),V=n.n(z),L=n(90),P=n.n(L),N=n(91),W=n.n(N),E=Object(x.a)({list:{width:250},fullList:{width:"auto"}});function M(t){var e,n=E(),o=s.a.useState({top:!1,left:!1,bottom:!1,right:!1}),r=Object(h.a)(o,2),i=r[0],c=r[1],l=function(t,e){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&c(Object(d.a)(Object(d.a)({},i),{},Object(b.a)({},t,e)))}};return Object(a.jsxs)("div",{children:[Object(a.jsx)(A,{onClick:l}),Object(a.jsx)(O.a,{anchor:"left",open:i.left,onClose:l("left",!1),children:(e="left",Object(a.jsxs)("div",{className:Object(g.a)(n.list,Object(b.a)({},n.fullList,"top"===e||"bottom"===e)),role:"presentation",onClick:l(e,!1),onKeyDown:l(e,!1),children:[Object(a.jsx)(p.a,{style:{margin:"20px"}}),Object(a.jsx)(f.a,{children:["Dashboard","LiveStream","Configuration"].map((function(e,n){return Object(a.jsxs)(m.a,{button:!0,onClick:function(n){return t.onNavigation(e)},children:[Object(a.jsx)(v.a,{children:0===n?Object(a.jsx)(V.a,{color:"secondary",fontSize:"large"}):1===n?Object(a.jsx)(P.a,{color:"secondary",fontSize:"large"}):Object(a.jsx)(W.a,{color:"secondary",fontSize:"large"})}),Object(a.jsx)(C.a,{primary:e})]},e)}))}),Object(a.jsx)(p.a,{})]}))})]})}var R=n(197),F=n(15),G=n.n(F),q=n(22),J=n(193),I=n(194),K=n(57),U=n.n(K),H=n(58),Q=n.n(H),X=n(59),Y=n.n(X),Z=n(19),$=n.n(Z),tt=n(186),et=n(199),nt=n(187),at=n(70),ot=n.n(at),st=n(61);function rt(t){return Object(a.jsxs)(m.a,{children:[Object(a.jsx)(v.a,{children:t.icon}),Object(a.jsx)(C.a,{id:"switch-list-label-wifi",primary:t.btnText}),Object(a.jsx)(tt.a,{style:{marginRight:"40px"},children:Object(a.jsx)(et.a,{edge:"end",onChange:function(e){return t.onToggle(t.name,e.target.checked)},checked:t.curState})})]})}function it(t){return Object(a.jsxs)(m.a,{children:[Object(a.jsx)(v.a,{children:t.icon}),Object(a.jsx)(C.a,{id:"switch-list-label-wifi",primary:t.btnText}),Object(a.jsx)(tt.a,{style:{marginRight:"40px"},children:Object(a.jsx)(nt.a,{edge:"end",onChange:function(e){return t.onToggle(t.name,e.target.checked)},checked:t.curState})}),t.autoControl&&Object(a.jsx)(ot.a,{style:{color:st.a[500]}}),!t.autoControl&&Object(a.jsx)(ot.a,{color:"disabled"})]})}var ct=n(188),lt=n(192),ut=n(190),jt=n(191),bt=n(189),dt=n(136),ht=s.a.forwardRef((function(t,e){return Object(a.jsx)(dt.a,Object(d.a)({direction:"up",ref:e},t))}));function gt(t){return Object(a.jsx)("div",{children:Object(a.jsxs)(ct.a,{open:t.openDialog,TransitionComponent:ht,keepMounted:!0,onClose:t.closeDialog,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(a.jsx)(bt.a,{id:"alert-dialog-slide-title",children:"Status Cannot Be Changed !"}),Object(a.jsx)(ut.a,{children:Object(a.jsx)(jt.a,{id:"alert-dialog-slide-description",children:"To Change Status of this Button , Please Go to Configuration tab and remove auto control check .!"})}),Object(a.jsx)(lt.a,{children:Object(a.jsx)(k.a,{onClick:t.closeDialog,variant:"contained",color:"primary",disableElevation:!0,children:"Close"})})]})})}var xt=n(200),Ot=n(198);function ft(t){return Object(a.jsx)(Ot.a,Object(d.a)({elevation:6,variant:"filled"},t))}var pt=Object(x.a)((function(t){return{root:{width:"100%","& > * + *":{marginTop:t.spacing(2)}}}}));function mt(t){var e=pt();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(xt.a,{open:t.state,children:Object(a.jsx)(ft,{severity:"info",children:t.message})})})}var vt=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={btn1:!1,btn2:!1,btn3:!1,btn1Auto:!0,btn2Auto:!0,btn3Auto:!0,showDialog:!1,showSnackBar:!0},t.setCurrentStatus=function(){var t=Object(q.a)(G.a.mark((function t(e){var n,a;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.a.post("/setCurrentStatus",e);case 2:return n=t.sent,a=200==n.status,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.handleToggle=function(e,n){switch(e){case"btn1":if(t.state.btn1Auto)t.setState({showDialog:!0});else t.setCurrentStatus({Btn1_status:n})?t.setState({btn1:n}):console.log("Error Occured");break;case"btn2":t.state.btn2Auto?t.setState({showDialog:!0}):t.setCurrentStatus({Btn2_status:n}).then(t.setState({btn2:n}));break;case"btn3":t.state.btn3Auto?t.setState({showDialog:!0}):t.setCurrentStatus({Btn3_status:n}).then(t.setState({btn3:n}))}},t.initializeComponent=Object(q.a)(G.a.mark((function e(){var n,a,o,s,r,i,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("/getCurrentStatus");case 2:return n=e.sent,a=n.data.Btn1_status,o=n.data.Btn2_status,s=n.data.Btn3_status,e.next=8,$.a.get("/getControlStatus");case 8:n=e.sent,r=n.data.Btn1_autoControl,i=n.data.Btn2_autoControl,c=n.data.Btn3_autoControl,t.setState({btn1:a,btn2:o,btn3:s,btn1Auto:r,btn2Auto:i,btn3Auto:c});case 13:case"end":return e.stop()}}),e)}))),t.getCurrentStatus=Object(q.a)(G.a.mark((function e(){var n,a,o,s,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("/getCurrentStatus");case 2:n=e.sent,a=t.state.btn1Auto?n.data.Btn1_status:t.state.btn1,o=t.state.btn2Auto?n.data.Btn2_status:t.state.btn2,s=t.state.btn3Auto?n.data.Btn3_status:t.state.btn3,r=n.data.esp_connected,t.state.btn1==a&&t.state.btn2==o&&t.state.btn3==s||(t.setState({btn1:a,btn2:o,btn3:s}),console.log("Previous status is not equal to Current")),t.state.showSnackBar!=!r&&t.setState({showSnackBar:!r});case 9:case"end":return e.stop()}}),e)}))),t.closeDialog=function(){t.setState({showDialog:!1})},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initializeComponent()}},{key:"componentDidUpdate",value:function(){this.getCurrentStatus()}},{key:"getContent",value:function(){return Object(a.jsx)(J.a,{style:{minWidth:"275"},children:Object(a.jsxs)(I.a,{children:[Object(a.jsx)(w.a,{variant:"h4",component:"h2",color:"textSecondary",align:"center",children:"Current Status"}),Object(a.jsx)(p.a,{style:{margin:"20px"}}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(it,{btnText:"Ceilling Fan",name:"btn1",icon:Object(a.jsx)(U.a,{fontSize:"large",color:"primary"}),onToggle:this.handleToggle,curState:this.state.btn1,autoControl:this.state.btn1Auto}),Object(a.jsx)(it,{btnText:"Energy Saver",name:"btn2",icon:Object(a.jsx)(Q.a,{fontSize:"large",color:"secondary"}),onToggle:this.handleToggle,curState:this.state.btn2,autoControl:this.state.btn2Auto}),Object(a.jsx)(it,{btnText:"AC",name:"btn3",icon:Object(a.jsx)(Y.a,{fontSize:"large",color:"primary"}),onToggle:this.handleToggle,curState:this.state.btn3,autoControl:this.state.btn3Auto})]})]})})}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[this.getContent(),Object(a.jsx)(gt,{openDialog:this.state.showDialog,closeDialog:this.closeDialog}),Object(a.jsx)(mt,{state:this.state.showSnackBar,message:"Wifi Module Not Responding , Please Check Connection !"})]})}}]),n}(s.a.Component),Ct=n(195),St=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={Btn1_autoControl:!1,Btn2_autoControl:!1,Btn3_autoControl:!1},t.initializeComponent=Object(q.a)(G.a.mark((function e(){var n,a,o,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("/getControlStatus");case 2:n=e.sent,a=n.data.Btn1_autoControl,o=n.data.Btn2_autoControl,s=n.data.Btn3_autoControl,t.setState({Btn1_autoControl:a,Btn2_autoControl:o,Btn3_autoControl:s});case 7:case"end":return e.stop()}}),e)}))),t.setControlStatus=Object(q.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/switch_autoControl",t.state);case 2:n=e.sent,console.log(n.status);case 4:case"end":return e.stop()}}),e)}))),t.handleToggle=function(e,n){switch(e){case"btn1":t.setState({Btn1_autoControl:n});break;case"btn2":t.setState({Btn2_autoControl:n});break;case"btn3":t.setState({Btn3_autoControl:n})}},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initializeComponent()}},{key:"getContent",value:function(){return Object(a.jsx)(J.a,{style:{minWidth:"275"},children:Object(a.jsxs)(I.a,{children:[Object(a.jsx)(w.a,{variant:"h4",component:"h2",color:"textSecondary",align:"center",children:"Configuration"}),Object(a.jsx)(p.a,{style:{margin:"20px"}}),Object(a.jsx)(Ct.a,{container:!0,spacing:3,children:Object(a.jsxs)(Ct.a,{item:!0,xs:12,children:[Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px"},children:[Object(a.jsx)(w.a,{variant:"h6",component:"h2",color:"textSecondary",children:"Controls"}),Object(a.jsx)(w.a,{variant:"h6",component:"h2",color:"textSecondary",children:"Auto Control Status"})]}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(rt,{btnText:"Ceilling Fan",name:"btn1",icon:Object(a.jsx)(U.a,{fontSize:"large",color:"primary"}),onToggle:this.handleToggle,curState:this.state.Btn1_autoControl}),Object(a.jsx)(rt,{btnText:"Energy Saver",name:"btn2",icon:Object(a.jsx)(Q.a,{fontSize:"large",color:"secondary"}),onToggle:this.handleToggle,curState:this.state.Btn2_autoControl}),Object(a.jsx)(rt,{btnText:"AC",name:"btn3",icon:Object(a.jsx)(Y.a,{fontSize:"large",color:"primary"}),onToggle:this.handleToggle,curState:this.state.Btn3_autoControl})]}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px"},children:[Object(a.jsx)(k.a,{variant:"contained",color:"primary",disableElevation:!0,size:"large",onClick:this.initializeComponent,children:"Get Status"}),Object(a.jsx)(k.a,{variant:"contained",color:"primary",disableElevation:!0,size:"large",onClick:this.setControlStatus,children:"Set Status"})]})]})})]})})}},{key:"render",value:function(){return Object(a.jsx)("div",{children:this.getContent()})}}]),n}(s.a.Component),yt=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={showProcessedVideo:!1},t.getVideoStatus=Object(q.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("/getVideoStatus");case 2:200==(n=e.sent).status&&t.setState({showProcessedVideo:n.data.showProcessedVideo});case 4:case"end":return e.stop()}}),e)}))),t.onButtonClick=Object(q.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/switchVideo",{showProcessedVideo:!t.state.showProcessedVideo});case 2:200==(n=e.sent).status&&(t.setState({showProcessedVideo:!t.state.showProcessedVideo}),console.log(n.status),console.log(t.state));case 4:case"end":return e.stop()}}),e)}))),t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getVideoStatus()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(J.a,{style:{minWidth:275},children:Object(a.jsxs)(I.a,{children:[Object(a.jsx)("img",{src:"/video_feed",alt:"Live Stream",style:{maxWidth:"100%",height:"auto",marginBottom:"40px"}}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(k.a,{variant:"contained",color:"secondary",size:"large",onClick:this.onButtonClick,children:this.state.showProcessedVideo?"Show Orignal Video":"Show Processed Video"})})]})})})}}]),n}(s.a.Component),wt=n(196),kt=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={Dashboard:!0,LiveStream:!1,Configuration:!1,configured:!1},t.onNavigationclick=function(e){t.setState({Dashboard:!1,LiveStream:!1,Configuration:!1}),"Dashboard"===e?t.setState({Dashboard:!0}):"LiveStream"===e?t.setState({LiveStream:!0}):t.setState({Configuration:!0})},t}return Object(l.a)(n,[{key:"getContent",value:function(){return this.state.Dashboard&&!this.state.LiveStream&&!this.state.Configuration&&this.state.configured?Object(a.jsx)(vt,{}):!this.state.Dashboard&&this.state.LiveStream&&!this.state.Configuration&&this.state.configured?Object(a.jsx)(yt,{}):!this.state.Dashboard&&!this.state.LiveStream&&this.state.Configuration&&this.state.configured?Object(a.jsx)(St,{}):Object(a.jsx)(J.a,{style:{minWidth:"275"},children:Object(a.jsxs)(I.a,{children:[Object(a.jsx)(w.a,{variant:"h4",component:"h2",color:"primary",align:"center",children:"Loading ..."}),Object(a.jsx)(p.a,{style:{margin:"20px"}}),Object(a.jsx)(w.a,{variant:"h6",component:"h2",color:"primary",align:"center",style:{margin:"40px"},children:"Fetching Data From The Server, Please Wait .."}),Object(a.jsx)(wt.a,{color:"secondary"})]})})}},{key:"componentDidMount",value:function(){var t=this;setInterval((function(){t.setState({configured:!0})}),3e3)}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(M,{onNavigation:this.onNavigationclick}),Object(a.jsx)(R.a,{maxWidth:"sm",style:{marginTop:"50px"},children:this.getContent()})]})}}]),n}(s.a.Component);i.a.render(Object(a.jsx)(kt,{}),document.querySelector("#root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.5301a941.chunk.js.map